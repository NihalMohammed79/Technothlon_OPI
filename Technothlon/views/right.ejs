<html>
<head>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.dev.js"></script>
<style>
    .vmenu{border:1px solid #aaa;position:absolute;background:#fff;    display:none;font-size:0.75em;}
    .vmenu .first_li span{width:100px;display:block;padding:5px 10px;cursor:pointer}
    .vmenu .inner_li{display:none;margin-left:120px;position:absolute;border:1px solid #aaa;
    border-left:1px solid #ccc;margin-top:-28px;background:#fff;}
    .vmenu .sep_li{border-top: 1px ridge #aaa;margin:5px 0}
    .vmenu .fill_title{font-size:11px;font-weight:bold;height:15px;overflow:hidden;word-wrap:break-word;}
    #rightclickarea{
    font-size:40px;
    }
</style>
<script type="text/javascript">
var socket = io.connect("http://10.150.37.17:4000");
    var hintinput = document.getElementById("hint");
    var hintbutton = document.getElementById("hintbutton");
    var hintbox = document.getElementById("hintbox");
    var id = "<%= user.socketid %>";
    function hintfunction(){
        if(hintinput.value == "hint") {
            console.log(socket.id);
                socket.emit("hint", {
                id: id,
                toid: socket.id
            });
        }
    };
    socket.on("hintres", function(data){
        console.log(data.hint);
        hintbox.innerHTML += '<li>Hint: '+ data.hint + '</li><li role="separator" class="divider"></li>';
    });
    $(document).ready(function(){
        $('#rightclickarea').bind('contextmenu',function(e){
        var $cmenu = $(this).next();
        $('<div class="overlay"></div>').css({left : '0px', top : '0px',position: 'absolute', width:                                                   '100%', height: '100%', zIndex: '100' }).click(function() {
            $(this).remove();
            $cmenu.hide();
        }).bind('contextmenu' , function(){return false;}).appendTo(document.body);
        $(this).next().css({ left: e.pageX, top: e.pageY, zIndex: '101' }).show();

        return false;
            });

            $('.vmenu .first_li').live('click',function() {
            if( $(this).children().size() == 1 ) {
                $('.vmenu').hide();
                $('.overlay').hide();
            }
            });

            $('.vmenu .inner_li span').live('click',function() {
                $('.vmenu').hide();
                $('.overlay').hide();
            });


        $(".first_li , .sec_li, .inner_li span").hover(function () {
            $(this).css({backgroundColor : '#E0EDFE' , cursor : 'pointer'});
        if ( $(this).children().size() >0 )
                $(this).find('.inner_li').show();    
                $(this).css({cursor : 'default'});
        }, 
        function () {
            $(this).css('background-color' , '#fff' );
            $(this).find('.inner_li').hide();
        });
    });
</script>
</head>
<body>
    <nav class="navbar navbar-default">
        <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Technothlon</a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Level Stats <span class="caret"></span></a>
                    <ul style="text-align: center; width: 250px;" class="dropdown-menu">
                        <li>Level Name: The Right Level</li>
                        <li role="separator" class="divider"></li>
                        <li>Deduction On Hint 1: 5 marks</li>
                        <li role="separator" class="divider"></li>
                        <li>Deduction On Hint 2: 0 marks</li>
                        <li role="separator" class="divider"></li>
                        <li>Deduction On Skip: 10 marks</li>
                        <li role="separator" class="divider"></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
            <li><a href="/profile">View Profile</a></li>
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Hint <span class="caret"></span></a>
                <ul class="dropdown-menu" style="width: 200px;">
                <div style="text-align: center;" id="hintbox">
                    <label for="hint">Type 'hint' in the box below to get a hint</label>
                    <input style="width: 150px;" type="text" name="hint" id="hint">
                    <button style="margin-top: 5px;" id="hintbutton" onclick="hintfunction()" type="submit">Submit</button>
                </div>
                </ul>
            </li>
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Skip <span class="caret"></span></a>
                <ul class="dropdown-menu" style="width: 200px;">
                    <form style="text-align: center;" action="/skip" method="POST">
                        <label for="hint">Type 'skip' in the box below to skip this level</label>
                        <input style="width: 150px;" type="text" name="skip" id="skip">
                        <button style="margin-top: 5px;" type="submit">Submit</button>
                    </form>
                </ul>
            </li>
            </ul>
        </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
    </nav>
	<div id="rightclickarea" align="center" font-size:40px>Answer is in the right</div>
    <div class="vmenu">
            <div class="first_li"><span>Open</span></div>
           <div class="first_li"><span>Open in new tab</span></div>
                <div class="sep_li"></div>
 
        <div class="first_li"><span>Quick Preview</span>
            <div class="inner_li">
                <span>Dossier</span> 
                <span>Channel 1</span>
                <span>Channel 2</span>
            </div>
        </div>
 
        <div class="first_li"><span>Preview</span>
                 <div class="inner_li">
                <a href="#"><span>Channel 1</span></a>
                <span>Channel 2 </span>
            </div>
        </div>
 
        <div class="first_li"><span>Edit</span></div>
        <div class="first_li"><span>Event Log</span></div>
        <div class="sep_li"></div>
        <div class="first_li"><span>New</span></div>
        <div class="first_li"><span>Assignments</span>
                  <div class="inner_li">
                     <span>Assignement 1</span>
                    <span>Assignement 2</span>
            </div>
        </div>
 
        <div class="first_li"><span>Assets</span>
            <div class="inner_li">
                <span>Asset 1</span>
                <span>Asset 2</span>
                <span>All Assets</span>
            </div>
        </div>
        <div class="first_li"><span>Preview</span></div>
        <div class="sep_li"></div>
        <div class="first_li"><span>ANSWER</span>
            <div class="inner_li">
                    <span>HELLO</span>
            </div>
        </div>
 
            <div class="first_li"><span>Others</span>
            <div class="inner_li">
                <span>Mark as Read</span>
                <span>Mark as Unread</span>
                               <span>Trash</span>
                <span>Archieve</span>
                    <span>Commite</span>
                <span>Release</span>
            </div>
        </div>
    </div>
    <form align="center" action="/right" method="POST">
    	<input type="text" name="x">
    	<button type="submit">Submit</button>
    </form>
</body>
</html>